<view class="container">
  <!-- 页面标题 -->
  <view class="header card-base">
    <text class="title">设置中心</text>
    <text class="subtitle">个人信息与应用设置</text>
  </view>

  <!-- 时间管理者卡片 -->
  <view class="user-info-section">
    <view class="user-info-card card-base">
      <view class="user-avatar" bindtap="changeUserAvatar">
        <image wx:if="{{userInfo.avatarUrl}}" class="avatar-image" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
        <text wx:else class="avatar-text">{{userInfo.name.charAt(0)}}</text>
      </view>
      <view class="user-details">
        <view class="user-name" bindtap="changeUserName">
          {{userInfo.name}}
          <text class="edit-icon">✏️</text>
        </view>
        <view class="avatar-hint">点击头像更换照片</view>
        <view class="user-stats">
          <text class="user-stat">时间价值: ¥{{userInfo.timeValueDisplay}}/小时</text>
          <text class="user-stat">已买回: {{statistics.totalSavedTimeDisplay}}小时</text>
          <text class="user-stat">等效价值: ¥{{statistics.equivalentValueDisplay}}</text>
        </view>
      </view>
    </view>
    
    <!-- 个性化设置按钮 -->
    <view class="wechat-info-section">
      <view class="wechat-info-btn card-base" bindtap="getWechatUserInfo">
        <view class="wechat-icon">👤</view>
        <view class="wechat-text">个性化设置头像和昵称</view>
        <view class="wechat-arrow">→</view>
      </view>
      
      <!-- 重置用户信息按钮 -->
      <view class="logout-btn card-base" bindtap="resetUserInfo">
        <view class="logout-icon">🔄</view>
        <view class="logout-text">重置用户信息</view>
        <view class="logout-arrow">→</view>
      </view>
      
    </view>
  </view>



  <!-- 使用帮助 -->
  <view class="help-section">
    <view class="section-title">使用帮助</view>
    <view class="help-content card-base">
      <view class="help-step">
        <view class="help-step-icon">🧮</view>
        <view class="help-step-content">
          <text class="help-step-title">计算时间价值</text>
          <text class="help-step-desc">在计算器页面中算出你每小时的时间价值</text>
        </view>
      </view>
      
      <view class="help-step">
        <view class="help-step-icon">🤖</view>
        <view class="help-step-content">
          <text class="help-step-title">智能决策分析</text>
          <text class="help-step-desc">在决策页面中理性的判断，是否赎回自己的时间（与自己的时间价值做对比）</text>
        </view>
      </view>
      
      <view class="help-step">
        <view class="help-step-icon">📈</view>
        <view class="help-step-content">
          <text class="help-step-title">查看管理成果</text>
          <text class="help-step-desc">你可在统计页面查看自己时间赎回的成果</text>
        </view>
      </view>
      
      <view class="help-step">
        <view class="help-step-icon">💡</view>
        <view class="help-step-content">
          <text class="help-step-title">核心理念</text>
          <text class="help-step-desc">时间赎回器的理念是：金钱只是用来购买时间的工具！</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 意见反馈 -->
  <view class="feedback-section">
    <view class="section-title">意见反馈</view>
    <view class="feedback-content card-base">
      <view class="feedback-item" bindtap="feedback">
        <view class="feedback-icon">📝</view>
        <view class="feedback-text">意见反馈</view>
        <view class="feedback-arrow">→</view>
      </view>
      
      <view class="feedback-item" bindtap="aboutApp">
        <view class="feedback-icon">ℹ️</view>
        <view class="feedback-text">关于时间赎回器</view>
        <view class="feedback-version">v{{version}}</view>
        <view class="feedback-arrow">→</view>
      </view>
    </view>
  </view>

  <!-- 数据管理 -->
  <view class="data-section">
    <view class="section-title">数据管理</view>
    <view class="data-content card-base">
      <view class="data-item" bindtap="resetAllData">
        <view class="data-icon">🗑️</view>
        <view class="data-text">重置所有数据</view>
        <view class="data-arrow">→</view>
      </view>
    </view>
  </view>

  <!-- 版权信息 -->
  <view class="copyright-section">
    <view class="copyright-text card-base">
      <text class="copyright-line">基于《买回你的时间》理念开发</text>
      <text class="copyright-line">"金钱仅仅是用来购买时间的工具"</text>
      <text class="copyright-line">© 2025 时间赎回器 {{version}}</text>
    </view>
  </view>
</view> 